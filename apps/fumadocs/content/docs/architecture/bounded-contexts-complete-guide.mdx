---
title: Bounded Contexts - Complete Architecture Guide
description: Comprehensive guide to organizing packages per bounded context with full DDD implementation
---

# Bounded Contexts - Complete Architecture Guide

This is the **complete guide** to implementing Bounded Contexts in a monorepo, covering package structure, layers, integration patterns, and real-world examples.

---

## ğŸ¯ What is a Bounded Context?

A **Bounded Context** is an explicit boundary within which a particular domain model applies. It's a logical division of your business domain where:

- ğŸ”¹ Terms have specific meanings
- ğŸ”¹ Models are self-contained
- ğŸ”¹ Rules are enforced
- ğŸ”¹ Teams can work independently

### Example: "User" in Different Contexts

```typescript
// Hiring Context
class CandidateUser {
  applyToJob()
  trackApplicationStatus()
  uploadResume()
}

// Analytics Context
class AnalyticsUser {
  getActivityMetrics()
  calculateEngagement()
}

// Billing Context
class SubscriptionUser {
  subscribeToPlan()
  processPayment()
  checkUsageLimit()
}
```

**Same entity, different meanings in each context!**

---

## ğŸ“¦ Complete Package Structure Per Context

### Full Monorepo Architecture

```bash
hiring-tool/                              # Monorepo root
â”œâ”€â”€ apps/                                 # Applications
â”‚   â”œâ”€â”€ web/                              # Frontend app
â”‚   â”œâ”€â”€ server/                           # Backend API
â”‚   â””â”€â”€ fumadocs/                         # Documentation
â”‚
â”œâ”€â”€ packages/                             # Shared packages
â”‚   â”œâ”€â”€ shared-kernel/                    # â† Shared primitives
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ api.ts                    # ApiResponse, Pagination
â”‚   â”‚   â”‚   â”œâ”€â”€ currency.ts               # Currency constants
â”‚   â”‚   â”‚   â”œâ”€â”€ result.ts                 # Result<T, E> pattern
â”‚   â”‚   â”‚   â”œâ”€â”€ utils.ts                  # TypeScript utilities
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â”œâ”€â”€ hiring/                           # â† Hiring Bounded Context
â”‚   â”‚   â”œâ”€â”€ domain/                       # Domain layer
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hiring-process.entity.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ interaction.entity.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ interview.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ salary.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ company-name.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ hiring-status.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/             # Interfaces only
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hiring-process.repository.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ interaction.repository.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ services/                 # Domain services
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ status-transition.service.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ salary-calculator.service.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ events/                   # Domain events
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hiring-process-created.event.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ status-changed.event.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hiring-status.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ interaction-type.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ application/                  # Application layer (Use Cases)
â”‚   â”‚   â”‚   â”œâ”€â”€ use-cases/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-hiring-process/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-hiring-process.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-hiring-process.handler.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update-status/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update-status.command.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update-status.handler.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ add-interaction/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ list-hiring-processes/
â”‚   â”‚   â”‚   â”œâ”€â”€ queries/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-hiring-process.query.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-hiring-list.query.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-hiring-process.dto.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ hiring-process-response.dto.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ infrastructure/               # Infrastructure layer
â”‚   â”‚   â”‚   â”œâ”€â”€ persistence/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hiring-process.repository.drizzle.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ interaction.repository.drizzle.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mappers/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ hiring-process.mapper.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ interaction.mapper.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ event-publisher.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ package.json                  # Context-specific dependencies
â”‚   â”‚   â””â”€â”€ tsconfig.json
â”‚   â”‚
â”‚   â”œâ”€â”€ analytics/                        # â† Analytics Bounded Context
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hiring-metric.entity.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user-activity.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ metrics.repository.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”œâ”€â”€ queries/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-success-rate.query.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ get-time-to-hire.query.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ get-status-distribution.query.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â”‚   â””â”€â”€ persistence/
â”‚   â”‚   â”‚       â””â”€â”€ repositories/
â”‚   â”‚   â”‚           â””â”€â”€ metrics.repository.drizzle.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ billing/                          # â† Billing Bounded Context
â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ subscription.entity.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ payment.entity.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ value-objects/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ plan.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ usage-limit.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ repositories/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ subscription.repository.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ payment.repository.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”œâ”€â”€ use-cases/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ subscribe-to-plan/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ process-payment/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â”‚   â”œâ”€â”€ persistence/
â”‚   â”‚   â”‚   â””â”€â”€ payment-providers/
â”‚   â”‚   â”‚       â””â”€â”€ stripe.adapter.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ integration/                      # â† Integration layer (Context â†’ Context)
â”‚   â”‚   â”œâ”€â”€ hiring-api/                   # Public API for Hiring context
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hiring-process.dto.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ hiring-summary.dto.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ analytics-api/                # Public API for Analytics context
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â”œâ”€â”€ database/                         # â† Shared database infrastructure
â”‚   â”‚   â”œâ”€â”€ schema/                       # Drizzle table definitions
â”‚   â”‚   â”‚   â”œâ”€â”€ hiring-process.schema.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ interaction.schema.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ subscription.schema.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ client/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ web-ui/                           # â† Shared UI components
â”‚       â””â”€â”€ components/
â”‚
â”œâ”€â”€ package.json                          # Root package.json
â””â”€â”€ bun.lockb
```

---

## ğŸ—ï¸ Layers Within Each Context

Each bounded context follows **Clean Architecture** with distinct layers:

### 1. Domain Layer (Core Business Logic)

**What goes here:**

- âœ… Entities with business behavior
- âœ… Value Objects with invariants
- âœ… Domain Services for business rules
- âœ… Repository Interfaces
- âœ… Domain Events
- âœ… Domain Exceptions

**What DOESN'T go here:**

- âŒ Database queries
- âŒ HTTP requests
- âŒ Framework dependencies
- âŒ UI logic

**Example:**

```typescript
// packages/hiring/domain/entities/hiring-process.entity.ts
import { HiringStatus } from "../value-objects/hiring-status";
import { Salary } from "../value-objects/salary";
import { HiringProcessCreatedEvent } from "../events/hiring-process-created.event";

export class HiringProcess {
  private constructor(
    public readonly id: string,
    private companyName: string,
    private status: HiringStatus,
    private salary: Salary | null,
    private interactions: Interaction[],
  ) {}

  static create(data: { companyName: string; salary?: Salary }): HiringProcess {
    const process = new HiringProcess(
      crypto.randomUUID(),
      data.companyName,
      HiringStatus.firstContact(),
      data.salary ?? null,
      [],
    );

    // Domain event
    process.raise(new HiringProcessCreatedEvent(process.id, data.companyName));

    return process;
  }

  // Business logic - status transitions
  updateStatus(newStatus: HiringStatus): void {
    if (!this.status.canTransitionTo(newStatus)) {
      throw new InvalidStatusTransitionError(this.status, newStatus);
    }
    this.status = newStatus;
  }

  // Business logic - add interaction
  addInteraction(interaction: Interaction): void {
    if (!this.isActive()) {
      throw new Error("Cannot add interaction to closed process");
    }
    this.interactions.push(interaction);
  }

  isActive(): boolean {
    return this.status.isActive();
  }
}
```

---

### 2. Application Layer (Use Cases / Orchestration)

**What goes here:**

- âœ… Use Case handlers (Commands/Queries)
- âœ… Application Services
- âœ… DTOs (Data Transfer Objects)
- âœ… Input validation
- âœ… Transaction orchestration

**What DOESN'T go here:**

- âŒ Business rules (go in domain)
- âŒ Database implementation
- âŒ HTTP routing

**Example:**

```typescript
// packages/hiring/application/use-cases/create-hiring-process/create-hiring-process.handler.ts
import type { IHiringProcessRepository } from "@hiring-tool/hiring/domain";
import { HiringProcess } from "@hiring-tool/hiring/domain";
import { Salary } from "@hiring-tool/hiring/domain/value-objects";
import type { CreateHiringProcessCommand } from "./create-hiring-process.command";

export class CreateHiringProcessHandler {
  constructor(
    private readonly hiringProcessRepo: IHiringProcessRepository,
    private readonly eventPublisher: IEventPublisher,
  ) {}

  async execute(command: CreateHiringProcessCommand): Promise<string> {
    // 1. Create domain entity (business logic in domain)
    const salary = command.salary
      ? Salary.create(command.salary, command.currency, command.rateType)
      : null;

    const hiringProcess = HiringProcess.create({
      companyName: command.companyName,
      salary,
    });

    // 2. Persist using repository
    await this.hiringProcessRepo.save(hiringProcess);

    // 3. Publish domain events
    await this.eventPublisher.publish(hiringProcess.getDomainEvents());

    // 4. Return result
    return hiringProcess.id;
  }
}
```

---

### 3. Infrastructure Layer (Technical Implementation)

**What goes here:**

- âœ… Repository implementations
- âœ… ORM/Database code
- âœ… External API adapters
- âœ… File system operations
- âœ… Email/SMS services

**What DOESN'T go here:**

- âŒ Business logic
- âŒ Use case orchestration

**Example:**

```typescript
// packages/hiring/infrastructure/persistence/repositories/hiring-process.repository.drizzle.ts
import type { IHiringProcessRepository } from "@hiring-tool/hiring/domain";
import type { HiringProcess } from "@hiring-tool/hiring/domain";
import { HiringProcessMapper } from "../mappers/hiring-process.mapper";
import { db } from "@hiring-tool/database/client";

export class HiringProcessRepositoryDrizzle implements IHiringProcessRepository {
  async save(hiringProcess: HiringProcess): Promise<void> {
    const data = HiringProcessMapper.toPersistence(hiringProcess);
    await db.insert(hiringProcessTable).values(data);
  }

  async findById(id: string): Promise<HiringProcess | null> {
    const row = await db.query.hiringProcessTable.findFirst({
      where: eq(hiringProcessTable.id, id),
    });

    return row ? HiringProcessMapper.toDomain(row) : null;
  }
}
```

---

## ğŸ”— Context Integration Patterns

### Pattern 1: Published Language (DTOs)

Each context exposes a **Public API** for other contexts to consume:

```typescript
// packages/integration/hiring-api/dto/hiring-process.dto.ts
export interface HiringProcessDTO {
  id: string;
  companyName: string;
  status: string;  // Simple string, not rich domain object
  salary: number | null;
  currency: string;
  createdAt: Date;
}

export interface HiringProcessSummaryDTO {
  totalProcesses: number;
  activeProcesses: number;
  successRate: number;
}
```

**Usage in Analytics Context:**

```typescript
// packages/analytics/application/queries/get-success-rate.query.ts
import type { HiringProcessSummaryDTO } from "@hiring-tool/integration/hiring-api";

export class GetSuccessRateQuery {
  constructor(private readonly hiringApi: HiringApiClient) {}

  async execute(userId: string): Promise<number> {
    // Analytics context uses Hiring's public API (DTO)
    const summary = await this.hiringApi.getSummary(userId);
    return summary.successRate;
  }
}
```

---

### Pattern 2: Domain Events (Asynchronous Integration)

Contexts communicate through events without direct coupling:

```typescript
// packages/hiring/domain/events/hiring-process-created.event.ts
export class HiringProcessCreatedEvent {
  constructor(
    public readonly hiringProcessId: string,
    public readonly companyName: string,
    public readonly userId: string,
    public readonly occurredAt: Date = new Date(),
  ) {}
}

// packages/analytics/application/event-handlers/hiring-process-created.handler.ts
export class OnHiringProcessCreated {
  constructor(private readonly metricsRepo: IMetricsRepository) {}

  async handle(event: HiringProcessCreatedEvent): Promise<void> {
    // Analytics context reacts to Hiring events
    await this.metricsRepo.incrementTotalProcesses(event.userId);
  }
}
```

---

### Pattern 3: Anti-Corruption Layer (ACL)

Protect your context from external models:

```typescript
// packages/analytics/infrastructure/anti-corruption/hiring-adapter.ts
import type { HiringProcessDTO } from "@hiring-tool/integration/hiring-api";
import { HiringMetric } from "@hiring-tool/analytics/domain";

export class HiringContextAdapter {
  // Translate external DTO to Analytics domain model
  toDomain(dto: HiringProcessDTO): HiringMetric {
    return new HiringMetric({
      processId: dto.id,
      wasSuccessful: dto.status === "hired",
      duration: this.calculateDuration(dto),
    });
  }

  private calculateDuration(dto: HiringProcessDTO): number {
    // Analytics-specific calculation
    return 0; // Simplified
  }
}
```

---

## ğŸ“‹ Package.json Per Context

### Hiring Context Package

```json
// packages/hiring/package.json
{
  "name": "@hiring-tool/hiring",
  "version": "1.0.0",
  "type": "module",
  "exports": {
    "./domain": "./domain/index.ts",
    "./application": "./application/index.ts",
    "./infrastructure": "./infrastructure/index.ts"
  },
  "dependencies": {
    "@hiring-tool/shared-kernel": "workspace:*",
    "@hiring-tool/database": "workspace:*",
    "zod": "catalog:"
  },
  "devDependencies": {
    "typescript": "^5",
    "vitest": "catalog:"
  }
}
```

---

### Analytics Context Package

```json
// packages/analytics/package.json
{
  "name": "@hiring-tool/analytics",
  "version": "1.0.0",
  "type": "module",
  "exports": {
    "./domain": "./domain/index.ts",
    "./application": "./application/index.ts"
  },
  "dependencies": {
    "@hiring-tool/shared-kernel": "workspace:*",
    "@hiring-tool/integration": "workspace:*",  // â† Uses hiring API
    "zod": "catalog:"
  }
}
```

---

### Integration Package

```json
// packages/integration/package.json
{
  "name": "@hiring-tool/integration",
  "version": "1.0.0",
  "type": "module",
  "exports": {
    "./hiring-api": "./hiring-api/index.ts",
    "./analytics-api": "./analytics-api/index.ts"
  },
  "dependencies": {
    "@hiring-tool/shared-kernel": "workspace:*"
  }
}
```

---

## ğŸ¯ Dependency Rules

### âœ… Allowed Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Application Layer                   â”‚
â”‚   â†“ can use                         â”‚
â”‚ Domain Layer                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†‘ implements
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Infrastructure Layer                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

All layers can use: Shared Kernel
```

**Valid:**

```typescript
// Application uses Domain âœ…
import { HiringProcess } from "@hiring-tool/hiring/domain";

// Infrastructure implements Domain âœ…
import type { IHiringProcessRepository } from "@hiring-tool/hiring/domain";

// All use Shared Kernel âœ…
import { Currency } from "@hiring-tool/shared-kernel";
```

---

### âŒ Forbidden Dependencies

```
Domain â†’ Application âŒ
Domain â†’ Infrastructure âŒ
Context A â†’ Context B (directly) âŒ
```

**Invalid:**

```typescript
// Domain CANNOT use Application âŒ
import { CreateHiringProcessHandler } from "@hiring-tool/hiring/application";

// Domain CANNOT use Infrastructure âŒ
import { HiringProcessRepositoryDrizzle } from "@hiring-tool/hiring/infrastructure";

// Hiring CANNOT directly use Analytics âŒ
import { MetricsService } from "@hiring-tool/analytics/domain";
```

---

### âœ… Context-to-Context Communication

Use integration packages:

```typescript
// Analytics using Hiring's public API âœ…
import type { HiringProcessDTO } from "@hiring-tool/integration/hiring-api";

// Billing subscribing to Hiring events âœ…
import type { HiringProcessCreatedEvent } from "@hiring-tool/integration/hiring-api/events";
```

---

## ğŸš€ Real-World Example: Multiple Contexts

### Scenario: User Creates a Hiring Process

**Flow across contexts:**

1. **Hiring Context** - Create hiring process
2. **Analytics Context** - Update metrics
3. **Billing Context** - Check usage limits

```typescript
// 1. User action in frontend
// apps/web/src/routes/hiring-processes/create.tsx
const createProcess = async (data: CreateHiringProcessInput) => {
  // Calls Hiring context API
  const result = await api.hiring.createProcess(data);
  return result;
};

// 2. Hiring context handles creation
// packages/hiring/application/use-cases/create-hiring-process/handler.ts
export class CreateHiringProcessHandler {
  async execute(command: CreateHiringProcessCommand): Promise<string> {
    const process = HiringProcess.create(command);
    await this.repo.save(process);

    // Publish event (other contexts can listen)
    await this.eventBus.publish(
      new HiringProcessCreatedEvent(process.id, command.userId)
    );

    return process.id;
  }
}

// 3. Analytics context reacts to event
// packages/analytics/application/event-handlers/on-hiring-process-created.ts
export class OnHiringProcessCreated {
  async handle(event: HiringProcessCreatedEvent): Promise<void> {
    // Update analytics metrics
    await this.metricsRepo.incrementProcessCount(event.userId);
  }
}

// 4. Billing context reacts to event
// packages/billing/application/event-handlers/on-hiring-process-created.ts
export class OnHiringProcessCreatedForBilling {
  async handle(event: HiringProcessCreatedEvent): Promise<void> {
    // Check usage limits
    const subscription = await this.subscriptionRepo.findByUserId(event.userId);

    if (subscription.hasExceededLimit()) {
      // Send notification
      await this.notificationService.sendLimitWarning(event.userId);
    }
  }
}
```

---

## ğŸ“Š Context Mapping

Visual representation of context relationships:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Shared Kernel                            â”‚
â”‚  (Currency, Result, ApiResponse, Pagination)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†‘ uses
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                   â”‚                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Hiring Context â”‚  â”‚Analytics Contextâ”‚  â”‚ Billing Contextâ”‚
â”‚                â”‚  â”‚                 â”‚  â”‚                â”‚
â”‚ â€¢ Processes    â”‚  â”‚ â€¢ Metrics       â”‚  â”‚ â€¢ Subscriptionsâ”‚
â”‚ â€¢ Interactions â”‚  â”‚ â€¢ Reports       â”‚  â”‚ â€¢ Payments     â”‚
â”‚ â€¢ Interviews   â”‚  â”‚ â€¢ Dashboards    â”‚  â”‚ â€¢ Usage        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                   â”‚                     â”‚
         â”‚    publishes      â”‚      listens        â”‚
         â”‚    events         â”‚      to events      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Integration   â”‚
                    â”‚  (Event Bus)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Best Practices

### 1. Keep Contexts Small and Focused

```bash
âœ… Good: @hiring-tool/hiring (job applications only)
âŒ Bad: @hiring-tool/hiring-analytics-billing (mixed concerns)
```

### 2. Use Explicit Boundaries

```typescript
// âœ… Clear boundary - hiring exports only domain
export * from "./domain";
export * from "./application";

// âŒ Unclear - exporting everything
export * from "./domain";
export * from "./infrastructure";  // Leaking implementation details
```

### 3. Version Your Integration APIs

```typescript
// packages/integration/hiring-api/v1/
export interface HiringProcessDTO_V1 { /* ... */ }

// packages/integration/hiring-api/v2/
export interface HiringProcessDTO_V2 { /* ... */ }
```

### 4. Test Contexts Independently

```typescript
// packages/hiring/domain/__tests__/hiring-process.test.ts
describe("HiringProcess", () => {
  it("should transition to ongoing status", () => {
    const process = HiringProcess.create({ companyName: "ACME" });
    process.updateStatus(HiringStatus.ongoing());
    expect(process.status).toBe(HiringStatus.ongoing());
  });
});
```

---

## ğŸ¯ Migration Strategy

### Phase 1: Single Context (Current)

```
packages/domain/  â† All business logic here
packages/database/  â† All infrastructure
```

### Phase 2: Extract Shared Kernel

```
packages/shared-kernel/  â† Generic primitives
packages/domain/  â† Rename to hiring later
packages/database/
```

### Phase 3: Add Second Context

```
packages/shared-kernel/
packages/hiring/  â† Renamed from domain
packages/analytics/  â† New context
packages/database/
```

### Phase 4: Full Multi-Context

```
packages/shared-kernel/
packages/hiring/
packages/analytics/
packages/billing/
packages/integration/  â† Context APIs
packages/database/
```

---

## ğŸ”— Related Documentation

- [Shared Kernel & Bounded Contexts](/docs/architecture/shared-kernel-and-bounded-contexts)
- [Shared Kernel Implementation Guide](/docs/architecture/shared-kernel-implementation-guide)
- [Repository Pattern](/docs/architecture/repository-pattern)
- [Application Services](/docs/architecture/application-services)

---

_Last Updated: {new Date().toISOString().split('T')[0]}_
